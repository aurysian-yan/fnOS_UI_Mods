ğŸ’» ã€å®æˆ˜ã€‘Native åº”ç”¨æ„å»º | é£ç‰›åº”ç”¨å¼€æ”¾å¹³å°







[è·³åˆ°ä¸»è¦å†…å®¹](#__docusaurus_skipToContent_fallback)

[![Logo](/img/logo.png)

**é£ç‰›åº”ç”¨å¼€æ”¾å¹³å°**](/)[å¼€å‘æ–‡æ¡£](/docs/guide)

[ç®€ä½“ä¸­æ–‡](#)

* [ç®€ä½“ä¸­æ–‡](/docs/core-concepts/native)

`ctrl``K`

* [ğŸ‘‹ã€€æ¬¢è¿åŠ å…¥](/docs/guide)
* [ğŸš€ã€€å¿«é€Ÿå¼€å§‹](/docs/category/å¿«é€Ÿå¼€å§‹)
* [ğŸ“˜ã€€å¼€å‘æŒ‡å—](/docs/category/å¼€å‘æŒ‡å—)

  + [ğŸ“š ã€åŸºç¡€ã€‘æ¶æ„æ¦‚è¿°](/docs/core-concepts/framework)
  + [ğŸ“š ã€åŸºç¡€ã€‘Manifest](/docs/core-concepts/manifest)
  + [ğŸ“š ã€åŸºç¡€ã€‘ç¯å¢ƒå˜é‡](/docs/core-concepts/environment-variables)
  + [ğŸ“š ã€åŸºç¡€ã€‘åº”ç”¨æƒé™](/docs/core-concepts/privilege)
  + [ğŸ“š ã€åŸºç¡€ã€‘åº”ç”¨èµ„æº](/docs/core-concepts/resource)
  + [ğŸ“š ã€åŸºç¡€ã€‘åº”ç”¨å…¥å£](/docs/core-concepts/app-entry)
  + [ğŸ“š ã€åŸºç¡€ã€‘ç”¨æˆ·å‘å¯¼](/docs/core-concepts/wizard)
  + [ğŸ”¥ ã€è¿›é˜¶ã€‘åº”ç”¨ä¾èµ–å…³ç³»](/docs/core-concepts/dependency)
  + [ğŸ”¥ ã€è¿›é˜¶ã€‘è¿è¡Œæ—¶ç¯å¢ƒ](/docs/core-concepts/runtime)
  + [ğŸ”¥ ã€è¿›é˜¶ã€‘ä¸­é—´ä»¶æœåŠ¡](/docs/core-concepts/middleware)
  + [ğŸ’» ã€å®æˆ˜ã€‘Docker åº”ç”¨æ„å»º](/docs/core-concepts/docker)
  + [ğŸ’» ã€å®æˆ˜ã€‘Native åº”ç”¨æ„å»º](/docs/core-concepts/native)
  + [ğŸ“œ ã€è§„èŒƒã€‘å›¾æ ‡ Icon](/docs/core-concepts/icon)
* [ğŸ”§ã€€CLI å¼€å‘å·¥å…·](/docs/category/cli-å¼€å‘å·¥å…·)
* [ğŸ”„ã€€æ–‡æ¡£æ›´æ–°æ—¥å¿—](/docs/category/æ–‡æ¡£æ›´æ–°æ—¥å¿—)

* [ğŸ“˜ã€€å¼€å‘æŒ‡å—](/docs/category/å¼€å‘æŒ‡å—)
* ğŸ’» ã€å®æˆ˜ã€‘Native åº”ç”¨æ„å»º

æœ¬é¡µæ€»è§ˆ

ğŸ’» ã€å®æˆ˜ã€‘Native åº”ç”¨æ„å»º
=================

ä¸€ä¸ªç®€å•çš„ Notepad åº”ç”¨[â€‹](#ä¸€ä¸ªç®€å•çš„-notepad-åº”ç”¨ "ä¸€ä¸ªç®€å•çš„ Notepad åº”ç”¨çš„ç›´æ¥é“¾æ¥")
--------------------------------------------------------------

æç¤º

ç¤ºä¾‹ä»£ç å¯ä»¥ç‚¹å‡» [æ­¤å¤„](https://static.fnnas.com/appcenter-marketing/20250917183504284.zip) ä¸‹è½½

æˆ‘ä»¬ä½¿ç”¨ Vide Coding å®ç°äº†ä¸€ä¸ªç®€æ˜“çš„ Notepad ç¨‹åºï¼Œå®ƒæ”¯æŒåœ¨æœåŠ¡ç«¯ä¿å­˜ç¬”è®°å†…å®¹ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚

ç›¸å…³æŠ€æœ¯æ ˆå¦‚ä¸‹ï¼š

* åç«¯ä½¿ç”¨ NodeJS + express å¼€å‘
* å‰ç«¯ä½¿ç”¨ React + vite å¼€å‘

ä¸‹è½½è§£å‹åï¼Œå¯ä»¥çœ‹åˆ°ä»£ç ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
notepad/  
â”œâ”€â”€ backend/  
â”‚   â”œâ”€â”€ server.js  
â”‚   â””â”€â”€ package.json  
â”œâ”€â”€ frontend/  
â”‚   â”œâ”€â”€ public/  
â”‚   â”‚   â””â”€â”€ styles.css  
â”‚   â”œâ”€â”€ src/  
â”‚   â”‚   â””â”€â”€ main.jsx  
â”‚   â”œâ”€â”€ index.html  
â”‚   â”œâ”€â”€ package.json  
â”‚   â””â”€â”€ vite.config.mjs  
â”œâ”€â”€ scripts/  
â”‚   â””â”€â”€ build-combined.js  
â”œâ”€â”€ package-lock.json  
â”œâ”€â”€ package.json  
â””â”€â”€ README.md
```

è¯·è‡ªè¡Œå‡†å¤‡å¥½ NodeJS ç¯å¢ƒï¼Œç„¶ååœ¨ç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œä»¥å®Œæˆæœ¬åœ°è¿è¡Œ

```
npm install --workspaces  
npm run start
```

ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œä½ å·²ç»å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—® <http://localhost:5001> æ¥ä½“éªŒè¯¥åº”ç”¨äº†

ä¸ºäº†åœ¨é£ç‰› fnOS ä¸Šè¿è¡Œï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†åº”ç”¨çš„å‰ç«¯å’Œåç«¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼Œå®Œæˆåï¼Œä½ å°±èƒ½åœ¨ `dist/` çœ‹åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶äº†

```
npm run build
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿›è¡Œåº”ç”¨æ‰“åŒ…

åˆ›å»ºé£ç‰› fnOS åº”ç”¨æ‰“åŒ…ç›®å½•[â€‹](#åˆ›å»ºé£ç‰›-fnos-åº”ç”¨æ‰“åŒ…ç›®å½• "åˆ›å»ºé£ç‰› fnOS åº”ç”¨æ‰“åŒ…ç›®å½•çš„ç›´æ¥é“¾æ¥")
--------------------------------------------------------------

åœ¨ `notepad/` ç›®å½•ä¸‹æ‰§è¡Œ `fnpack create fnnas.notepad` å‘½ä»¤åˆ›å»ºåº”ç”¨æ‰“åŒ…ç›®å½•ï¼Œè¿™æ—¶å€™çš„ç›®å½•ç»“æ„åº”è¯¥å¦‚ä¸‹ï¼š

```
notepad/  
â”œâ”€â”€ backend/  
â”œâ”€â”€ dist/  
â”‚   â”œâ”€â”€ node_modules/  
â”‚   â”œâ”€â”€ public/  
â”‚   â”‚   â”œâ”€â”€ assets/  
â”‚   â”‚   â”œâ”€â”€ index.html  
â”‚   â”‚   â””â”€â”€ styles.css  
â”‚   â”œâ”€â”€ server.js  
â”‚   â”œâ”€â”€ package.json  
â”‚   â””â”€â”€ package-lock.json  
â”œâ”€â”€ fnnas.notepad/  
â”‚   â”œâ”€â”€ app/  
â”‚   â”œâ”€â”€ manifest  
â”‚   â”œâ”€â”€ cmd/  
â”‚   â”‚   â”œâ”€â”€ main  
â”‚   â”‚   â”œâ”€â”€ install_init  
â”‚   â”‚   â”œâ”€â”€ install_callback  
â”‚   â”‚   â”œâ”€â”€ uninstall_init     
â”‚   â”‚   â”œâ”€â”€ uninstall_callback  
â”‚   â”‚   â”œâ”€â”€ upgrade_init  
â”‚   â”‚   â”œâ”€â”€ upgrade_callback  
â”‚   â”‚   â”œâ”€â”€ config_init  
â”‚   â”‚   â””â”€â”€ config_callback  
â”‚   â”œâ”€â”€ config/  
â”‚   â”‚   â”œâ”€â”€ privilege  
â”‚   â”‚   â””â”€â”€ resource  
â”‚   â”œâ”€â”€ wizard/  
â”‚   â”œâ”€â”€ LICENSE  
â”‚   â”œâ”€â”€ ICON.PNG  
â”‚   â””â”€â”€ ICON_256.PNG  
â”œâ”€â”€ frontend/  
â”œâ”€â”€ scripts/  
â”œâ”€â”€ package-lock.json  
â”œâ”€â”€ package.json  
â””â”€â”€ README.md
```

### å¤åˆ¶ç¼–è¯‘äº§ç‰©[â€‹](#å¤åˆ¶ç¼–è¯‘äº§ç‰© "å¤åˆ¶ç¼–è¯‘äº§ç‰©çš„ç›´æ¥é“¾æ¥")

`notepad/fnnas.notepad/app/` ç›®å½•ç”¨æ¥å­˜æ”¾åº”ç”¨çš„å…¨éƒ¨å¯æ‰§è¡Œæ–‡ä»¶å’Œä¾èµ–ã€‚

åœ¨ `notepad/fnnas.notepad/app/` ç›®å½•ä¸‹åˆ›å»º `server/`ï¼Œå¹¶å¤åˆ¶ `notepad/dist/` ç›®å½•ä¸‹çš„å…¨éƒ¨å†…å®¹åˆ° `server/` ç›®å½•ä¸‹

### ç¼–è¾‘åº”ç”¨åŸºæœ¬ä¿¡æ¯[â€‹](#ç¼–è¾‘åº”ç”¨åŸºæœ¬ä¿¡æ¯ "ç¼–è¾‘åº”ç”¨åŸºæœ¬ä¿¡æ¯çš„ç›´æ¥é“¾æ¥")

notepad/fnnas.notepad/manifest

```
appname=fnnas.notepad  
version=0.0.1  
desc=A simple notepad  
arch=x86_64  
display_name=Notepad  
maintainer=someone  
distributor=someone  
desktop_uidir=ui  
desktop_applaunchname=fnnas.notepad.Application  
source=thirdparty
```

### ç¼–è¾‘åº”ç”¨æƒé™[â€‹](#ç¼–è¾‘åº”ç”¨æƒé™ "ç¼–è¾‘åº”ç”¨æƒé™çš„ç›´æ¥é“¾æ¥")

å®šä¹‰åº”ç”¨è¿è¡Œçš„æƒé™ï¼Œåº”ç”¨å°†ä»¥ `fnnas.notepad` ç”¨æˆ·èº«ä»½è¿è¡Œ

notepad/fnnas.notepad/config/privilege

```
{  
    "defaults": {  
        "run-as": "package"  
    },  
    "username": "fnnas.notepad",  
    "groupname": "fnnas.notepad"  
}
```

### ç¼–è¾‘åº”ç”¨é…ç½®[â€‹](#ç¼–è¾‘åº”ç”¨é…ç½® "ç¼–è¾‘åº”ç”¨é…ç½®çš„ç›´æ¥é“¾æ¥")

æˆ‘ä»¬å¸Œæœ›å°†ç¬”è®°å†…å®¹æ”¾åœ¨ç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œç¼–è¾‘çš„å…±äº«ç›®å½•ï¼Œæ‰€ä»¥å®šä¹‰data-shareå±æ€§ï¼Œå¦‚ä¸‹ï¼š

notepad/fnnas.notepad/config/resource

```
{  
    "data-share": {  
        "shares": [  
            {  
                "name": "fnnas.notepad",  
                "permission": {  
                    "rw": [  
                        "fnnas.notepad"  
                    ]  
                }  
            }  
        ]  
    }  
}
```

### ç¼–è¾‘åº”ç”¨å¯åœè„šæœ¬[â€‹](#ç¼–è¾‘åº”ç”¨å¯åœè„šæœ¬ "ç¼–è¾‘åº”ç”¨å¯åœè„šæœ¬çš„ç›´æ¥é“¾æ¥")

å®šä¹‰åº”ç”¨çš„å¯åŠ¨å’Œåœæ­¢é€»è¾‘

notepad/fnnas.notepad/cmd/main

```
#!/bin/bash  
  
LOG_FILE="${TRIM_PKGVAR}/info.log"  
PID_FILE="${TRIM_PKGVAR}/app.pid"  
  
export PATH=/var/apps/nodejs_v22/target/bin:$PATH  
# data directory to write note.txt  
DATA_DIR="${TRIM_DATA_SHARE_PATHS%%:*}"  
# write the command to start your program here   
CMD="DATA_DIR=${DATA_DIR} PORT=5001 node ${TRIM_APPDEST}/server/server.js"  
  
log_msg() {  
    echo "$(date '+%Y-%m-%d %H:%M:%S') - $1" >> ${LOG_FILE}  
}  
  
start_process() {  
    if status; then  
        return 0  
    fi  
  
    log_msg "Starting process ..."  
    # env >> ${LOG_FILE}  
    # run the nodejs process  
    bash -c "${CMD}" >> ${LOG_FILE} 2>&1 &  
    # write pid to pidfile  
    printf "%s" "$!" > ${PID_FILE}  
    # log_msg "${CMD}"  
    # log_msg "pid = $!"  
    return 0  
}  
  
stop_process() {  
    log_msg "Stopping process ..."  
  
    if [ -r "${PID_FILE}" ]; then  
        pid=$(head -n 1 "${PID_FILE}" | tr -d '[:space:]')  
          
        log_msg "pid=${pid}"  
        if ! check_process "${pid}"; then  
            # process not exist, delete pidfile  
            rm -f "${PID_FILE}"  
            log_msg "remove pid file 1"  
            return  
        fi  
  
        log_msg "send TERM signal to PID:${pid}..."  
        kill -TERM ${pid} >> ${LOG_FILE} 2>&1  
  
        local count=0  
        while check_process "${pid}" && [ $count -lt 10 ]; do  
            sleep 1  
            count=$((count + 1))  
            log_msg "waiting process terminal... (${count}s/10s)"  
        done  
  
        if check_process "${pid}"; then  
            log_msg "send KILL signal to PID:${pid}..."  
            kill -KILL "${pid}"  
            sleep 1  
            rm -f "${PID_FILE}"  
        else  
            log_msg "process killed... "  
        fi  
    fi  
  
    return 0  
}  
  
check_process() {  
    local pid=$1  
    if kill -0 "${pid}" 2>/dev/null; then  
        return 0  # process exist  
    else  
        return 1  # process not exist  
    fi  
}  
  
status() {  
    if [ -f "${PID_FILE}" ]; then  
        pid=$(head -n 1 "${PID_FILE}" | tr -d '[:space:]')  
        if check_process "${pid}"; then  
            return 0  
        else  
            # Process is not running but pidfile exists - clean it up  
            rm -f "${PID_FILE}"  
        fi      
    fi  
  
    return 1  
}  
  
case $1 in  
start)  
    # run start command. exit 0 if success, exit 1 if failed  
    start_process  
    ;;  
stop)  
    # run stop command. exit 0 if success, exit 1 if failed  
    stop_process  
    ;;  
status)  
    # check application status command. exit 0 if running, exit 3 if not running  
    if status; then   
        exit 0  
    else   
        exit 3  
    fi  
    ;;  
*)  
    exit 1  
    ;;  
esac
```

### ç¼–è¾‘æ¡Œé¢å›¾æ ‡[â€‹](#ç¼–è¾‘æ¡Œé¢å›¾æ ‡ "ç¼–è¾‘æ¡Œé¢å›¾æ ‡çš„ç›´æ¥é“¾æ¥")

```
notepad/  
â”œâ”€â”€ backend/  
â”œâ”€â”€ dist/  
â”œâ”€â”€ fnnas.notepad/  
â”‚   â”œâ”€â”€ app/  
â”‚   â”‚   â”œâ”€â”€ server/  
â”‚   â”‚   â””â”€â”€ ui  
â”‚   â”‚       â”œâ”€â”€ images  
â”‚   â”‚       â”‚   â”œâ”€â”€ icon_64.png  
â”‚   â”‚       â”‚   â””â”€â”€ icon_256.png  
â”‚   â”‚       â””â”€â”€ config  
â”‚   â”œâ”€â”€ manifest  
â”‚   â”œâ”€â”€ cmd/  
â”‚   â”œâ”€â”€ config/  
â”‚   â”œâ”€â”€ wizard/  
â”‚   â”œâ”€â”€ LICENSE  
â”‚   â”œâ”€â”€ ICON.PNG  
â”‚   â””â”€â”€ ICON_256.PNG  
â”œâ”€â”€ frontend/  
â”œâ”€â”€ scripts/  
â”œâ”€â”€ package-lock.json  
â”œâ”€â”€ package.json  
â””â”€â”€ README.md
```

configæ–‡ä»¶è¯´æ˜ï¼š

notepad/fnnas.notepad/app/ui/config

```
{  
    ".url": {  
        "fnnas.notepad.Application": {  
            "title": "Notepad",  
            "icon": "images/icon_{0}.png",  
            "type": "url",  
            "protocol": "http",  
            "port": "5001"  
        }  
    }  
}
```

æ–°å¢ä¸¤ä¸ªå›¾æ ‡æ–‡ä»¶ï¼Œåˆ†è¾¨ç‡åˆ†åˆ«æ˜¯ 64x64 å’Œ 256x256ã€‚

æ‰“åŒ…æˆ fpk[â€‹](#æ‰“åŒ…æˆ-fpk "æ‰“åŒ…æˆ fpkçš„ç›´æ¥é“¾æ¥")
-----------------------------------

ä½¿ç”¨ `fnpack` CLI å·¥å…·æ‰“åŒ…åº”ç”¨

```
cd fnnas.notepad  
fnpack build
```

ç„¶åä½ å¯ä»¥åœ¨ `fnnas.notepad` ç›®å½•ä¸‹çœ‹åˆ° `fnnas.notepad.fpk` æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥ä½ å°±å¯ä»¥åˆ°é£ç‰› fnOS ä¸Šæµ‹è¯•åº”ç”¨äº†

### é›†æˆç¼–è¾‘[â€‹](#é›†æˆç¼–è¾‘ "é›†æˆç¼–è¾‘çš„ç›´æ¥é“¾æ¥")

å¦‚æœæˆ‘ä»¬å¸Œæœ›æ¯æ¬¡ `npm run build` ç¼–è¯‘é¡¹ç›®æ—¶ï¼Œéƒ½è‡ªåŠ¨åˆ›å»º `fpk` æ–‡ä»¶ï¼Œåˆ™å¯ä»¥åœ¨ç¼–è¯‘è„šæœ¬ä¸­è¡¥å…… `fnpack build` é€»è¾‘ã€‚

åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œå¯ä»¥åœ¨ `notepad/scripts/build-combined.js` çš„æœ€åè¡¥å…… `fnpack build` é€»è¾‘ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
const packDir = path.join(root, 'fnnas.notepad')  
const packServerDir = path.join(packDir, 'app', 'server');  
run(`rm -rf ${packServerDir}`)  
run(`mkdir ${packServerDir}`)  
run(`cp -r ${outDir}/* ${packServerDir}/`)  
run(`fnpack build -d ${packDir}`)
```

[ä¸Šä¸€é¡µ

ğŸ’» ã€å®æˆ˜ã€‘Docker åº”ç”¨æ„å»º](/docs/core-concepts/docker)[ä¸‹ä¸€é¡µ

ğŸ“œ ã€è§„èŒƒã€‘å›¾æ ‡ Icon](/docs/core-concepts/icon)

* [ä¸€ä¸ªç®€å•çš„ Notepad åº”ç”¨](#ä¸€ä¸ªç®€å•çš„-notepad-åº”ç”¨)
* [åˆ›å»ºé£ç‰› fnOS åº”ç”¨æ‰“åŒ…ç›®å½•](#åˆ›å»ºé£ç‰›-fnos-åº”ç”¨æ‰“åŒ…ç›®å½•)
  + [å¤åˆ¶ç¼–è¯‘äº§ç‰©](#å¤åˆ¶ç¼–è¯‘äº§ç‰©)
  + [ç¼–è¾‘åº”ç”¨åŸºæœ¬ä¿¡æ¯](#ç¼–è¾‘åº”ç”¨åŸºæœ¬ä¿¡æ¯)
  + [ç¼–è¾‘åº”ç”¨æƒé™](#ç¼–è¾‘åº”ç”¨æƒé™)
  + [ç¼–è¾‘åº”ç”¨é…ç½®](#ç¼–è¾‘åº”ç”¨é…ç½®)
  + [ç¼–è¾‘åº”ç”¨å¯åœè„šæœ¬](#ç¼–è¾‘åº”ç”¨å¯åœè„šæœ¬)
  + [ç¼–è¾‘æ¡Œé¢å›¾æ ‡](#ç¼–è¾‘æ¡Œé¢å›¾æ ‡)
* [æ‰“åŒ…æˆ fpk](#æ‰“åŒ…æˆ-fpk)
  + [é›†æˆç¼–è¾‘](#é›†æˆç¼–è¾‘)

![](https://static2.fnnas.com/official/logo1.svg)

![](https://static2.fnnas.com/official/logo3.svg)

![](https://static2.fnnas.com/official/logo5.svg)

![](https://static2.fnnas.com/official/logo11.svg)

![](https://static2.fnnas.com/official/logo7.svg)

![](https://static2.fnnas.com/official/logo9.svg)

![icon](https://static2.fnnas.com/official/logo1.svg)

![icon](https://static2.fnnas.com/official/logo3.svg)

![icon](https://static2.fnnas.com/official/logo5.svg)

![icon](https://static2.fnnas.com/official/logo11.svg)

![icon](https://static2.fnnas.com/official/logo7.svg)

![icon](https://static2.fnnas.com/official/logo9.svg)

* [éšç§åè®®](https://www.fnnas.com/privacy)
* [æœåŠ¡æ¡æ¬¾](https://www.fnnas.com/terms)
* [è”ç³»æˆ‘ä»¬](https://help.fnnas.com/articles/fnosV1/contact/contact-us.md)
* [åŠ å…¥æˆ‘ä»¬](https://www.zhipin.com/gongsi/ab73b7cfacff99221XB_2tu8E1I~.html?ka=company-intro)

Copyright Â©Â å¹¿å·é“åˆƒæ™ºé€ æŠ€æœ¯æœ‰é™å…¬å¸ ç‰ˆæƒæ‰€æœ‰

[ç²¤ICPå¤‡2023020469å·](https://beian.miit.gov.cn/#/Integrated/recordQuery)